;; shadow-cljs configuration
{:deps true
 :http {:port 9632}
 :nrepl {:port 8703}
 :builds
 {:db-sync {:target :esm
            :output-dir "worker/dist/worker"
            :modules {:main {:exports {default logseq.db-sync.worker/worker
                                       SyncDO logseq.db-sync.worker/SyncDO
                                       SyncIndexDO logseq.db-sync.worker/SyncIndexDO}}}
            :js-options {:js-provider :import}
            :closure-defines {shadow.cljs.devtools.client.env/enabled false}
            :devtools {:enabled false}}
  :db-sync-test {:target :node-test
                 :output-to "worker/dist/worker-test.js"
                 :devtools {:enabled false}
                 :main logseq.db-sync.test-runner/main}}}
